"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{5616:function(e,n,t){t.d(n,{Z:function(){return P}});var i=t(7294),r=t(1664),s=t.n(r),a=t(9673),o=t(8985),l=t(1230),c=t(5746),d=t(9521),h=t(9473),u=t(1163),x=t.n(u),p=t(1889),m=t(9659),f=t(4093),g=t(5997),j=t(5893),v=(0,d.ZP)(p.Z).withConfig({displayName:"UserProfile__LogOutButton",componentId:"sc-1oi6tgq-0"})(["margin-top:10px;margin-left:47px;"]),C=function(){var e=(0,h.I0)(),n=(0,h.v9)(function(e){return e.user}),t=n.me,r=n.logOutLoading,a=(0,i.useCallback)(function(){e((0,g.vR)())},[]);return(0,j.jsxs)(m.Z,{actions:[(0,j.jsxs)("div",{children:[(0,j.jsx)(s(),{href:"/user/".concat(t.id),children:"짹짹"}),(0,j.jsx)("br",{}),t.Posts.length]},"twit"),(0,j.jsxs)("div",{children:[(0,j.jsx)(s(),{href:"/profile",children:"팔로잉"}),(0,j.jsx)("br",{}),t.Followings.length]},"followings"),(0,j.jsxs)("div",{children:[(0,j.jsx)(s(),{href:"/profile",children:"팔로워"}),(0,j.jsx)("br",{}),t.Followers.length]},"followers")],children:[(0,j.jsx)(m.Z.Meta,{avatar:(0,j.jsx)(s(),{href:"/user/".concat(t.id),prefetch:!1,children:(0,j.jsx)(f.C,{children:t.nickname[0]})}),title:t.nickname}),(0,j.jsx)(v,{onClick:a,loading:r,children:"로그아웃"})]})},k=t(2640),Z=t(4538),w=t(4324),y=d.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-1epdt36-0"})(["margin-top:10px;"]),b=(0,d.ZP)(Z.Z).withConfig({displayName:"LoginForm__FormWrapper",componentId:"sc-1epdt36-1"})(["padding:10px;"]),I=function(){var e=(0,h.I0)(),n=(0,h.v9)(function(e){return e.user}),t=n.logInLoading,r=n.logInError,o=(0,w.Z)(""),l=(0,k.Z)(o,2),c=l[0],d=l[1],u=(0,w.Z)(""),x=(0,k.Z)(u,2),m=x[0],f=x[1],v=(0,i.useRef)(!1);(0,i.useEffect)(function(){v.current?r&&alert(r):v.current=!0},[r]);var C=(0,i.useCallback)(function(){e((0,g.tP)({email:c,password:m}))},[c,m]);return(0,j.jsxs)(b,{onFinish:C,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"user-email",children:"이메일"}),(0,j.jsx)(a.Z,{name:"user-email",value:c,onChange:d,required:!0,type:"email"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"user-password",children:"비밀번호"}),(0,j.jsx)(a.Z,{name:"user-password",type:"password",value:m,onChange:f,required:!0})]}),(0,j.jsxs)(y,{children:[(0,j.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:t,children:"로그인"}),(0,j.jsx)(s(),{href:"/signup",children:(0,j.jsx)(p.Z,{children:"회원가입"})})]})]})},_=(0,d.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),U=(0,d.ZP)(a.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-wan0f0-0"})(["vertical-align:middle;"]),P=function(e){var n=e.children,t=(0,i.useState)(""),r=t[0],a=t[1],d=(0,h.v9)(function(e){return e.user}).me,u=(0,i.useCallback)(function(e){a(e.target.value)},[]),p=(0,i.useCallback)(function(){r&&(x().push("/hashtag/".concat(r)),a(""))},[r]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(_,{}),(0,j.jsxs)(o.Z,{mode:"horizontal",children:[(0,j.jsx)(o.Z.Item,{children:(0,j.jsx)(s(),{href:"/",children:"노드버드"})}),(0,j.jsx)(o.Z.Item,{children:(0,j.jsx)(s(),{href:"/profile",children:"프로필"})}),(0,j.jsx)(o.Z.Item,{children:(0,j.jsx)(U,{value:r,onChange:u,onSearch:p,placeholder:"해시태그 입력(#제외)",enterButton:!0})})]}),(0,j.jsxs)(l.Z,{gutter:8,children:[(0,j.jsx)(c.Z,{xs:24,md:6,children:d?(0,j.jsx)(C,{}):(0,j.jsx)(I,{})}),(0,j.jsx)(c.Z,{xs:24,md:12,children:n}),(0,j.jsx)(c.Z,{xs:24,md:6,children:(0,j.jsx)("a",{href:"https://www.zerocho.com",target:"_blank",rel:"noreferrer noopener",children:"Made by ZeroCho"})})]})]})}},7187:function(e,n,t){t.d(n,{Z:function(){return W}});var i=t(9659),r=t(808),s=t(1889),a=t(4093),o=t(2506),l=t(7431),c=t(7294),d=t(5843),h=t(7213),u=t(9647),x=t(8545),p=t(3471),m=t(9473),f=t(1664),g=t.n(f),j=t(381),v=t.n(j),C=t(1042),k=t(6066);t(1548),t(3873);var Z=t(9521),w=Z.ZP.div.withConfig({displayName:"style__OverLay",componentId:"sc-je2jl4-0"})(["position:fixed;z-index:1000;top:0;left:0;right:0;bottom:0;"]),y=Z.ZP.header.withConfig({displayName:"style__Header",componentId:"sc-je2jl4-1"})(["height:44px;background:white;position:relative;padding:0;text-align:center;& h1{margin:0;font-size:17px;color:#333;line-height:44px;}& button{position:absolute;right:0;top:0;padding:15px;line-height:14px;height:100%;font-size:18px;cursor:pointer;background-color:white;border:none;font-weight:370;}"]),b=Z.ZP.div.withConfig({displayName:"style__SlickWrapper",componentId:"sc-je2jl4-2"})(["height:calc(100% - 44px);background:#090909;"]),I=Z.ZP.div.withConfig({displayName:"style__ImgWrapper",componentId:"sc-je2jl4-3"})(["padding:32px;text-align:center;& img{margin:0 auto;max-height:750px;}"]),_=Z.ZP.div.withConfig({displayName:"style__Indicator",componentId:"sc-je2jl4-4"})(["text-align:center;& > div{width:75px;height:30px;line-height:30px;border-radius:15px;background:#313131;display:inline-block;text-align:center;color:white;font-size:15px;}"]),U=t(5893),P=function(e){var n=e.images,t=e.onClose,i=(0,c.useState)(0),r=i[0],s=i[1];return(0,U.jsxs)(w,{children:[(0,U.jsxs)(y,{children:[(0,U.jsx)("h1",{children:"상세 이미지"}),(0,U.jsx)("button",{onClick:t,children:"X"})]}),(0,U.jsx)(b,{children:(0,U.jsxs)("div",{children:[(0,U.jsx)(k.Z,{initialSlide:0,afterChange:function(e){return s(e)},infinite:!0,slidesToShow:1,slidesToScroll:1,children:n.map(function(e){return(0,U.jsx)(I,{children:(0,U.jsx)("img",{src:"".concat(e.src.replace(/\/thumb\//,"/original/")),alt:e.src})},e.src)})}),(0,U.jsx)(_,{children:(0,U.jsxs)("div",{children:[r+1,"/",n.length]})})]})})]})},F=function(e){var n=e.images,t=(0,c.useState)(!1),i=t[0],r=t[1],s=(0,c.useCallback)(function(){r(!0)},[]),a=(0,c.useCallback)(function(){r(!1)},[]);return 1===n.length?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("img",{role:"presentation",style:{maxHeight:"500px"},src:"".concat(n[0].src),alt:n[0].src,onClick:s}),i&&(0,U.jsx)(P,{images:n,onClose:a})]}):2===n.length?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[0].src),alt:n[0].src,onClick:s}),(0,U.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[1].src),alt:n[1].src,onClick:s}),i&&(0,U.jsx)(P,{images:n,onClose:a})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{children:[(0,U.jsx)("img",{role:"presentation",style:{width:"50%"},src:"".concat(n[0].src),alt:n[0].src,onClick:s}),(0,U.jsxs)("div",{role:"presentation",style:{display:"inline-block",width:"50%",textAlign:"center",verticalAlign:"middle"},onClick:s,children:[(0,U.jsx)(C.Z,{}),(0,U.jsx)("br",{}),n.length-1,"개의 사진 더보기"]})]}),i&&(0,U.jsx)(P,{images:n,onClose:a})]})},S=t(2640),L=t(4538),R=t(9673),N=t(4324),D=t(2167),z=function(e){var n=e.post,t=(0,m.I0)(),i=(0,m.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),r=(0,m.v9)(function(e){return e.post}),a=r.addCommentDone,o=r.addCommentLoading,l=(0,N.Z)(""),d=(0,S.Z)(l,3),h=d[0],u=d[1],x=d[2];(0,c.useEffect)(function(){a&&x("")},[a]);var p=(0,c.useCallback)(function(){t({type:D.Ot,data:{content:h,postId:n.id,userId:i}})},[h,i]);return(0,U.jsxs)(L.Z,{onFinish:p,style:{position:"relative",margin:0},children:[(0,U.jsx)(R.Z.TextArea,{value:h,onChange:u,rows:4}),(0,U.jsx)(s.Z,{type:"primary",htmlType:"submit",style:{position:"absolute",right:0,bottom:-40,zIndex:1},loading:o,children:"삐약"})]})},E=function(e){var n=e.postData;return(0,U.jsx)("div",{children:n.split(/(#[^\s#]+)/g).map(function(e,n){return e.match(/(#[^\s#]+)/)?(0,U.jsx)(g(),{legacyBehavior:!0,href:"/hashtag/".concat(e.slice(1)),prefetch:!1,children:(0,U.jsx)("a",{children:e})},n):e})})},A=t(5997),M=function(e){var n=e.post,t=(0,m.I0)(),i=(0,m.v9)(function(e){return e.user}),r=i.me,a=i.unfollowLoading,o=i.followLoading,l=r&&r.Followings.find(function(e){return e.nickname===n.User.nickname}),d=(0,c.useCallback)(function(){t({type:A.U_,data:{nickname:n.User.nickname}})},[]),h=(0,c.useCallback)(function(){t({type:A.Bk,data:{nickname:n.User.nickname}})},[]);return n.User.id===r.id?null:l?(0,U.jsx)(s.Z,{loading:a,onClick:h,children:"언팔로우"}):(0,U.jsx)(s.Z,{loading:o,onClick:d,children:"팔로우"})},T=t(6713),Y=R.Z.TextArea,B={resize:"none",height:120,marginBotton:5},O=function(e){var n=e.setEditPostCardOpend,t=e.post,i=(0,m.I0)(),r=(0,m.v9)(function(e){return e.user}).me,a=(0,c.useState)(""),o=a[0],l=a[1],d=(0,c.useCallback)(function(e){l(e.target.value)},[]),h=(0,c.useCallback)(function(){if(r.id!==t.User.id)return alert("자신의 게시글이 아닙니다.");i({type:D.jk,data:{textArea:o,postId:t.id}})},[o]),u=(0,c.useCallback)(function(){n(!1)},[]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Y,{rows:4,style:B,value:o,onChange:d}),(0,U.jsxs)(T.Z,{wrap:!0,children:[(0,U.jsx)(s.Z,{type:"primary",onClick:h,children:"수정"}),(0,U.jsx)(s.Z,{type:"primary",danger:!0,onClick:u,children:"취소"})]})]})};v().locale("ko");var W=function(e){var n=e.post,t=(0,m.I0)(),f=(0,m.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),j=n.Likers.find(function(e){return e.id===f}),C=(0,m.v9)(function(e){return e.post}),k=C.removePostLoading,Z=C.editPostCardDone,w=(0,c.useState)(!1),y=w[0],b=w[1],I=(0,c.useState)(!1),_=I[0],P=I[1];(0,c.useEffect)(function(){P(!1)},[f]),(0,c.useEffect)(function(){Z&&P(!1)},[Z]);var S=(0,c.useCallback)(function(){if(!f)return alert("로그인이 필요합니다.");t({type:D.a0,data:{postId:n.id}})},[f]),L=(0,c.useCallback)(function(){if(!f)return alert("로그인이 필요합니다.");t({type:D.xD,data:{postId:n.id}})},[f]),R=(0,c.useCallback)(function(){if(!f)return alert("로그인이 필요합니다.");t({type:D.VT,data:{postId:n.id}})},[f]),N=(0,c.useCallback)(function(){b(function(e){return!e})},[]),A=(0,c.useCallback)(function(){P(function(e){return!e})},[]),T=(0,c.useCallback)(function(){if(!f)return alert("로그인이 필요합니다.");window.confirm("정말로 삭제하시겠습니까?")&&t({type:D.HU,data:{postId:n.id}})},[f]);return(0,U.jsxs)("div",{style:{marginBottom:20},children:[(0,U.jsx)(i.Z,{cover:n.Images[0]&&(0,U.jsx)(F,{images:n.Images}),actions:[(0,U.jsx)(d.Z,{onClick:S},"retweet"),j?(0,U.jsx)(h.Z,{twoToneColor:"#eb2f96",onClick:R},"heart"):(0,U.jsx)(u.Z,{onClick:L},"heart"),(0,U.jsx)(x.Z,{onClick:N},"comment"),(0,U.jsx)(r.Z,{content:(0,U.jsx)(s.Z.Group,{children:f&&n.User.id===f?(0,U.jsxs)(U.Fragment,{children:[!n.RetweetId&&(0,U.jsx)(s.Z,{onClick:A,children:"수정"}),(0,U.jsx)(s.Z,{type:"danger",loading:k,onClick:T,children:"삭제"})]}):(0,U.jsx)(s.Z,{children:"신고"})}),children:(0,U.jsx)(p.Z,{})},"more")],title:n.RetweetId?"".concat(n.User.nickname,"님이 리트윗하셨습니다."):null,extra:f&&(0,U.jsx)(M,{post:n}),children:n.RetweetId&&n.Retweet?(0,U.jsxs)(i.Z,{cover:n.Retweet.Images[0]&&(0,U.jsx)(F,{images:n.Retweet.Images}),children:[(0,U.jsx)("div",{style:{float:"right"},children:v()(n.createdAt).format("YYYY.MM.DD")}),(0,U.jsx)(i.Z.Meta,{avatar:(0,U.jsx)(g(),{href:"/user/".concat(n.Retweet.User.id),prefetch:!1,children:(0,U.jsx)(a.C,{children:n.Retweet.User.nickname[0]})}),title:n.Retweet.User.nickname,description:(0,U.jsx)(E,{postData:n.Retweet.content})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{float:"right"},children:v()(n.createdAt).format("YYYY.MM.DD")}),(0,U.jsx)(i.Z.Meta,{avatar:(0,U.jsx)(g(),{href:"/user/".concat(n.User.id),prefetch:!1,children:(0,U.jsx)(a.C,{children:n.User.nickname[0]})}),title:n.User.nickname,description:_?(0,U.jsx)(O,{setEditPostCardOpend:P,post:n}):(0,U.jsx)(E,{postData:n.content})})]})}),y&&(0,U.jsxs)("div",{children:[(0,U.jsx)(z,{post:n}),(0,U.jsx)(o.ZP,{header:"".concat(n.Comments.length,"개의 댓글"),itemLayout:"horizontal",dataSource:n.Comments,renderItem:function(e){return(0,U.jsx)("li",{children:(0,U.jsx)(l.Z,{author:e.User.nickname,avatar:(0,U.jsx)(g(),{href:"/user/".concat(e.User.id),prefetch:!1,children:(0,U.jsx)(a.C,{children:e.User.nickname[0]})}),content:e.content})})}})]})]})}},4324:function(e,n,t){var i=t(7294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,i.useState)(e),t=n[0],r=n[1];return[t,(0,i.useCallback)(function(e){r(e.target.value)},[]),r]}}}]);