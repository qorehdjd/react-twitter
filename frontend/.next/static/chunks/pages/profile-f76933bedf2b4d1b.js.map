{"version":3,"file":"static/chunks/pages/profile-f76933bedf2b4d1b.js","mappings":"mSAOMA,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,EAAOC,EAAAA,CAAD,EAATC,UAAA,EAAAC,YAAA,4BAAAC,YAAA,wDA4ClBC,EAvCA,UAAuB,CACrB,IAAMC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACjBC,EAA8BC,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAAlCC,EAARJ,EAAQI,EAAR,CAAYC,EAAZL,EAAYK,aAAZ,CAEMC,EAAWC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CACjCT,EAASU,CAAAA,EAAAA,EAAAA,EAAAA,IACV,EAAE,EAFyB,EAI5B,MACE,GAAAC,EAAAC,IAAA,EAACC,EAAAC,CAAD,EACEC,QAAS,CACP,GAAAJ,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAI,SAAAC,MAAA,CAAWd,EAAGe,EAAd,EAAVL,SAAA,OACA,GAAAL,EAAAM,GAAA,WACCX,EAAGgB,KAAH,CAASC,MAHZ,GAAS,QAKT,GAAAZ,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAK,WAAXH,SAAA,QACA,GAAAL,EAAAM,GAAA,WACCX,EAAGkB,UAAH,CAAcD,MAHjB,GAAS,cAKT,GAAAZ,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAK,WAAXH,SAAA,QACA,GAAAL,EAAAM,GAAA,WACCX,EAAGmB,SAAH,CAAaF,MAHhB,GAAS,aAZb,CAAAP,SAAA,CAmBE,GAAAL,EAAAM,GAAA,EAACJ,EAAAC,CAAA,CAAAY,IAAD,EACEC,OAAQ,GAAAhB,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAI,SAAAC,MAAA,CAAWd,EAAGe,EAAd,EAAoBO,SAAU,GAAxCZ,SAA+C,GAAAL,EAAAM,GAAA,EAACU,EAAAE,CAAD,EAAAb,SAASV,EAAGwB,QAAH,CAAY,EAAZ,EAAxD,GACRC,MAAOzB,EAAGwB,QAAAA,GAEZ,GAAAnB,EAAAM,GAAA,EAACxB,EAAD,CAAcuC,QAASxB,EAAUyB,QAAS1B,EAA1CS,SAAA,SAvBF,EA4BH,gCCxCKkB,EAAgBxC,EAAAA,EAAAA,CAAAA,GAAAA,CAAAA,UAAH,EAAAG,YAAA,2BAAAC,YAAA,uCAKbqC,EAAczC,CAAAA,EAAAA,EAAAA,EAAAA,EAAO0C,EAAAA,CAAD,EAATxC,UAAA,EAAAC,YAAA,yBAAAC,YAAA,oCA6DjBuC,EAzDA,UAAqB,CACnB,IAAMrC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACjBC,EAAqCC,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAAzCiC,EAARpC,EAAQoC,YAAR,CAAsBC,EAAtBrC,EAAsBqC,UAAtB,CACAC,EAA+BC,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,IAAxCC,EAAA,GAAAC,EAAA7B,CAAA,EAAA0B,EAAA,GAAOI,EAAPF,CAAA,IAAcG,EAAdH,CAAA,IACAI,EAAqCL,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,IAA9CM,EAAA,GAAAJ,EAAA7B,CAAA,EAAAgC,EAAA,GAAOE,EAAPD,CAAA,IAAiBE,EAAjBF,CAAA,IACMG,EAAWC,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,IAExBC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,UAAM,CACVF,EAASG,OAAb,CACMd,GACFe,MAAMf,GAGRW,EAASG,OAAT,CAAmB,EAEtB,EAAE,CAACd,EARK,EAUT,IAAMgB,EAAe9C,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CACrCT,EAASwD,CAAAA,EAAAA,EAAAA,EAAAA,EAAmB,CAAEZ,MAAAA,EAAOI,SAAAA,CAAT,GAC7B,EAAE,CAACJ,EAAOI,EAFqB,EAMhC,MACE,GAAArC,EAAAC,IAAA,EAACuB,EAAD,CAAasB,SAAUF,EAAvBvC,SAAA,CACE,GAAAL,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,WAAOyC,QAAQ,aAAf1C,SAAA,QACA,GAAAL,EAAAM,GAAA,EAAC0C,EAAA7C,CAAD,EACE8C,KAAK,aACLC,MAAOjB,EACPkB,SAAUjB,EACVkB,SAAQ,GACRC,KAAK,OALP,GAFF,GAUA,GAAArD,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,WAAOyC,QAAQ,gBAAf1C,SAAA,SACA,GAAAL,EAAAM,GAAA,EAAC0C,EAAA7C,CAAD,EACE8C,KAAK,gBACLI,KAAK,WACLH,MAAOb,EACPc,SAAUb,EACVc,SAAQ,EALV,GAFF,GAUA,GAAApD,EAAAC,IAAA,EAACsB,EAAD,CAAAlB,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACgD,EAAAnD,CAAD,EAAQkD,KAAK,UAAUE,SAAS,SAASjC,QAASK,EAAlDtB,SAAA,QAGA,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAK,UAAXH,SACE,GAAAL,EAAAM,GAAA,EAACgD,EAAAnD,CAAD,EAAAE,SAAA,QADF,GAJF,GArBF,EA+BH,EC5DKmD,EAASC,CAAAA,EAAAA,EAAAA,EAAAA,EAAH,mKAaNC,EAAc3E,CAAAA,EAAAA,EAAAA,EAAAA,EAAO4E,EAAAA,CAAAA,CAAAA,MAAD,EAAT1E,UAAA,EAAAC,YAAA,yBAAAC,YAAA,4CAyDjByE,EArDA,SAAAC,CAAA,CAAiC,KAAZxD,EAAYwD,EAAZxD,QAAY,CAC/ByD,EAAsCC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAAxCC,EAAPF,CAAA,IAAoBG,EAApBH,CAAA,IACQnE,EAARJ,CAAeC,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAAnBC,EAAR,CAEMuE,EAAsBpE,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,SAACqE,CAAD,CAAO,CAC7CF,EAAeE,EAAEC,MAAF,CAASlB,KAAV,CACf,EAAE,EAFoC,EAIjCmB,EAAWvE,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CAC5BkE,IACLM,IAAAA,IAAA,aAAA7D,MAAA,CAAwBuD,IACxBC,EAAe,IAChB,EAAE,CAACD,EAJwB,EAM5B,MACE,GAAAhE,EAAAC,IAAA,SAAAI,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACkD,EAAD,IACA,GAAAxD,EAAAC,IAAA,EAACsE,EAAApE,CAAD,EAAMqE,KAAK,aAAXnE,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACiE,EAAApE,CAAA,CAAAsE,IAAD,EAAApE,SACE,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAK,IAAXH,SAAA,QADF,GAGA,GAAAL,EAAAM,GAAA,EAACiE,EAAApE,CAAA,CAAAsE,IAAD,EAAApE,SACE,GAAAL,EAAAM,GAAA,EAACC,IAAD,CAAMC,KAAK,WAAXH,SAAA,OADF,GAGA,GAAAL,EAAAM,GAAA,EAACiE,EAAApE,CAAA,CAAAsE,IAAD,EAAApE,SACE,GAAAL,EAAAM,GAAA,EAACoD,EAAD,CAAaR,MAAOc,EAAab,SAAUe,EAAqBG,SAAUA,EAAUK,YAAY,eAAeC,YAAW,EAA1H,EADF,GAPF,GAWA,GAAA3E,EAAAC,IAAA,EAAC2E,EAAAzE,CAAD,EAAK0E,OAAQ,EAAbxE,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACwE,EAAA3E,CAAD,EAAK4E,GAAI,GAAIC,GAAI,EAAjB3E,SACGV,EAAK,GAAAK,EAAAM,GAAA,EAAClB,EAAD,IAAkB,GAAAY,EAAAM,GAAA,EAACoB,EAAD,MAE1B,GAAA1B,EAAAM,GAAA,EAACwE,EAAA3E,CAAD,EAAK4E,GAAI,GAAIC,GAAI,GAAjB3E,SACGA,CADH,GAGA,GAAAL,EAAAM,GAAA,EAACwE,EAAA3E,CAAD,EAAK4E,GAAI,GAAIC,GAAI,EAAjB3E,SACE,GAAAL,EAAAM,GAAA,OACEE,KAAK,0BACL4D,OAAO,SACPa,IAAI,sBAHN5E,SAAA,mBADF,GAPF,GAbF,EAgCH,kDC3ED6E,CAAAA,EAAA,EAAe,UAAyB,KAAxBC,EAAwBC,UAAAxE,MAAA,IAAAwE,KAAAC,IAAAD,SAAA,IAAAA,SAAA,IAAT,IAAS,CACtCtB,EAA0BC,CAAAA,EAAAA,EAAAA,QAAAA,EAASoB,GAA5BjC,EAAPY,CAAA,IAAcwB,EAAdxB,CAAA,IAIA,MAAO,CAACZ,EAHQpD,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,SAACqE,CAAD,CAAO,CACjCmB,EAASnB,EAAEC,MAAF,CAASlB,KAAV,CACT,EAAE,EAFwB,EAGHoC,EAAxB,yRCAF,SAASC,EAAT1B,CAAA,CAAyD,KAAnC2B,EAAmC3B,EAAnC2B,MAAmC,CAA3BC,EAA2B5B,EAA3B4B,IAA2B,CAArBC,EAAqB7B,EAArB6B,QAAqB,CAAXpE,EAAWuC,EAAXvC,OAAW,CACjDjC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IAEXqG,EAAW7F,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,SAACqB,CAAD,SAAc,UAAM,CAC/CyE,QAAQC,GAAR,CAAY,SAAUL,GACP,QAAXA,GACFnG,EAAS,CACPgE,KAAMyC,EAAAA,EADC,CAEPL,KAAM,CAAEtE,SAAAA,CAAF,CAFC,GAKI,QAAXqE,GACFnG,EAAS,CACPgE,KAAM0C,EAAAA,EADC,CAEPN,KAAM,CAAEtE,SAAAA,CAAF,CAFC,EAKZ,CAd4B,EAc1B,EAdyB,EAgB5B,MACE,GAAAnB,EAAAM,GAAA,EAAC0F,EAAAC,EAAD,EACEC,MAAO,CAAEC,aAAc,EAAhB,EACPC,KAAM,CAAEvB,OAAQ,EAAGE,GAAI,EAAGC,GAAI,CAAxB,EACNqB,KAAK,QACLb,OAAQ,GAAAxF,EAAAM,GAAA,SAAAD,SAAMmF,CAAN,GACRE,SACE,GAAA1F,EAAAM,GAAA,SAAK4F,MAAO,CAAEI,UAAW,SAAUC,OAAQ,QAA/B,EAAZlG,SACE,GAAAL,EAAAM,GAAA,EAACgD,EAAAnD,CAAD,EAAQkB,QAASqE,EAAUpE,QAASA,EAApCjB,SAAA,QADF,GAKFmG,SAAQ,GACRC,WAAYhB,EACZiB,WAAY,SAACC,CAAD,QACV,GAAA3G,EAAAM,GAAA,EAAC0F,EAAAC,EAAA,CAAAxB,IAAD,EAAWyB,MAAO,CAAEU,UAAW,EAAb,EAAlBvG,SACE,GAAAL,EAAAM,GAAA,EAACJ,EAAAC,CAAD,EAAMC,QAAS,CAAC,GAAAJ,EAAAM,GAAA,EAACuG,EAAA1G,CAAD,EAAyBkB,QAASsE,EAASgB,EAAKxF,QAAN,CAA1C,EAAkB,QAAlC,CAAAd,SACE,GAAAL,EAAAM,GAAA,EAACJ,EAAAC,CAAA,CAAAY,IAAD,EAAW+F,YAAaH,EAAKxF,QAAAA,EAD/B,EADF,EADU,CAbd,EAsBH,CAEDoE,EAAWwB,SAAX,CAAuB,CACrBvB,OAAQwB,IAAAA,MAAAA,CAAAA,UADa,CAErBvB,KAAMuB,IAAAA,KAAAA,CAAAA,UAFe,CAGrBtB,SAAUsB,IAAAA,IAAAA,CAAAA,UAHW,CAIrB1F,QAAS0F,IAAAA,IAAAA,CAAAA,UAAyBC,0BCfpCC,EAlCA,UAA2B,CACzB,IAAM7H,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACT6H,EAAR5H,CAA+BC,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAAnCyH,kBAAR,CAEArD,EAAgCC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAAlC5C,EAAP2C,CAAA,IAAiBsD,EAAjBtD,CAAA,IAEArB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,UAAM,CACV0E,GAAoBC,EAAY,GACrC,EAAE,CAACD,EAFK,EAIT,IAAME,EAAmBvH,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CACzCT,EAAS,CACPgE,KAAMiE,EAAAA,CADC,CAEP7B,KAAMtE,CAFC,EAIV,EAAE,CAACA,EALgC,EAO9BoG,EAAmBzH,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,SAACqE,CAAD,CAAO,CAC1CiD,EAAYjD,EAAEC,MAAF,CAASlB,KAAV,CACZ,EAAE,EAFiC,EAI9BgD,EAAQsB,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,iBAAO,CAC3BrB,aAAc,OACdsB,OAAQ,oBACRC,QAAS,MAHkB,CAAP,GAMtB,MACE,GAAA1H,EAAAM,GAAA,EAACqH,EAAAxH,CAAD,EAAM+F,MAAOA,EAAb7F,SACE,GAAAL,EAAAM,GAAA,EAAC0C,EAAA7C,CAAA,CAAAyH,MAAD,EAAcC,YAAY,MAAMlD,YAAY,KAAKxB,SAAUoE,EAAkBrE,MAAO/B,EAAUkD,SAAUgD,CAAxG,EADF,EAIH,ECxBKS,EAAU,SAACC,CAAD,SAASC,EAAAA,CAAAA,CAAAA,GAAA,CAAUD,EAAK,CAAEE,gBAAiB,EAAnB,GAA2BC,IAA1C,CAA+C,SAACC,CAAD,SAAYA,EAAO1C,IAAnB,EAAxD,OA4DhB2C,EA1DA,UAAmB,CACjB,IAAQzI,EAARJ,CAAeC,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAAnBC,EAAR,CACAmE,EAA4CC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GAA9CsE,EAAPvE,CAAA,IAAuBwE,EAAvBxE,CAAA,IACAyE,EAA8CxE,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GAAhDyE,EAAPD,CAAA,IAAwBE,EAAxBF,CAAA,IAEAG,EAAsDC,CAAAA,EAAAA,EAAAA,EAAAA,EAAM,sDAAAlI,MAAA,CAAuD4H,GAAkBP,GAAvHc,EAAdF,EAAQjD,IAAR,CAAoCoD,EAApCH,EAA6BI,KAA7B,CACAC,EAAwDJ,CAAAA,EAAAA,EAAAA,EAAAA,EAAM,uDAAAlI,MAAA,CAAwD+H,GAAmBV,GAA3HkB,EAAdD,EAAQtD,IAAR,CAAqCwD,EAArCF,EAA8BD,KAA9B,CAEArG,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,UAAM,CACR9C,GAAMA,EAAGe,EAAX,EACF4D,IAAAA,IAAA,CAAY,IAEf,EAAE,CAAC3E,GAAMA,EAAGe,EAAV,CAJM,EAMT,IAAMwI,EAAqBpJ,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CAC3C2I,EAAmB,SAACU,CAAD,SAAUA,EAAO,CAAjB,EACpB,EAAE,EAFmC,EAIhCC,EAAoBtJ,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAAM,CAC1CwI,EAAkB,SAACa,CAAD,SAAUA,EAAO,CAAjB,EACnB,EAAE,EAFkC,SAIrC,EAEIN,GAAiBI,GACnBrD,QAAQkD,KAAR,CAAcD,GAAiBI,GACxB,GAAAjJ,EAAAM,GAAA,SAAAD,SAAA,6BAIP,GAAAL,EAAAC,IAAA,EAAAD,EAAAqJ,QAAA,EAAAhJ,SAAA,CACE,GAAAL,EAAAM,GAAA,EAACgJ,IAAD,CAAAjJ,SACE,GAAAL,EAAAM,GAAA,WAAAD,SAAA,oBADF,GAGA,GAAAL,EAAAC,IAAA,EAACsJ,EAAApJ,CAAD,EAAAE,SAAA,CACE,GAAAL,EAAAM,GAAA,EAAC4G,EAAD,IACA,GAAAlH,EAAAM,GAAA,EFMOiF,EENP,CAAYC,OAAO,MAAMC,KAAMuD,EAAgBtD,SAAUwD,EAAoB5H,QAAS,CAAC0H,GAAkB,CAACC,CAA1G,GACA,GAAAjJ,EAAAM,GAAA,EFKOiF,EELP,CAAYC,OAAO,MAAMC,KAAMmD,EAAelD,SAAU0D,EAAmB9H,QAAS,CAACsH,GAAiB,CAACC,CAAvG,GAHF,GAJF,GARc,GAAA7I,EAAAM,GAAA,SAAAD,SAAA,aAAP,wBCrCX,CAAAmJ,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,WACA,WACA,OAAeC,EAAQ,IACvB,EACA","sources":["webpack://_N_E/./components/UserProfile.js","webpack://_N_E/./components/LoginForm.js","webpack://_N_E/./components/Layout/AppLayout.js","webpack://_N_E/./hooks/useInput.js","webpack://_N_E/./components/FollowList.js","webpack://_N_E/./components/NicknameEditForm.js","webpack://_N_E/./pages/profile.js","webpack://_N_E/?05ee","webpack://_N_E/<anon>"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport { Card, Avatar, Button } from 'antd';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport { logoutRequestAction } from '../reducers/user';\r\n\r\nconst LogOutButton = styled(Button)`\r\n  margin-top: 10px;\r\n  margin-left: 47px;\r\n`;\r\n\r\nfunction UserProfile() {\r\n  const dispatch = useDispatch();\r\n  const { me, logOutLoading } = useSelector((state) => state.user);\r\n\r\n  const onLogOut = useCallback(() => {\r\n    dispatch(logoutRequestAction());\r\n  }, []);\r\n\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <div key=\"twit\">\r\n          <Link href={`/user/${me.id}`}>짹짹</Link>\r\n          <br />\r\n          {me.Posts.length}\r\n        </div>,\r\n        <div key=\"followings\">\r\n          <Link href=\"/profile\">팔로잉</Link>\r\n          <br />\r\n          {me.Followings.length}\r\n        </div>,\r\n        <div key=\"followers\">\r\n          <Link href=\"/profile\">팔로워</Link>\r\n          <br />\r\n          {me.Followers.length}\r\n        </div>,\r\n      ]}\r\n    >\r\n      <Card.Meta\r\n        avatar={<Link href={`/user/${me.id}`} prefetch={false}><Avatar>{me.nickname[0]}</Avatar></Link>}\r\n        title={me.nickname}\r\n      />\r\n      <LogOutButton onClick={onLogOut} loading={logOutLoading}>\r\n        로그아웃\r\n      </LogOutButton>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport { Button, Form, Input } from 'antd';\r\nimport Link from 'next/link';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useInput from '../hooks/useInput';\r\n\r\nimport { loginRequestAction } from '../reducers/user';\r\n\r\nconst ButtonWrapper = styled.div`\r\n  // style={{marginTop:10}}(인라인스타일)을 할경우 리액트가 객체를 보고 변화가 없지만 리렌더링을 시키므로 문제발생\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst FormWrapper = styled(Form)`\r\n  padding: 10px;\r\n`;\r\n\r\nfunction LoginForm() {\r\n  const dispatch = useDispatch(); // store.dispatch()랑 같다. 리덕스를 쓰면 useState를 쓸 일이 거의 없어진다.\r\n  const { logInLoading, logInError } = useSelector((state) => state.user);\r\n  const [email, onChangeEmail] = useInput('');\r\n  const [password, onChangePassword] = useInput('');\r\n  const didMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (didMount.current) {\r\n      if (logInError) {\r\n        alert(logInError);\r\n      }\r\n    } else {\r\n      didMount.current = true;\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onSubmitForm = useCallback(() => {\r\n    dispatch(loginRequestAction({ email, password }));\r\n  }, [email, password]);\r\n\r\n  // const style = useMemo(() => ({ marginTop: 10 }), []); // 값을 캐싱한다\r\n\r\n  return (\r\n    <FormWrapper onFinish={onSubmitForm}>\r\n      <div>\r\n        <label htmlFor=\"user-email\">이메일</label>\r\n        <Input\r\n          name=\"user-email\"\r\n          value={email}\r\n          onChange={onChangeEmail}\r\n          required\r\n          type=\"email\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"user-password\">비밀번호</label>\r\n        <Input\r\n          name=\"user-password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          required\r\n        />\r\n      </div>\r\n      <ButtonWrapper>\r\n        <Button type=\"primary\" htmlType=\"submit\" loading={logInLoading}>\r\n          로그인\r\n        </Button>\r\n        <Link href=\"/signup\">\r\n          <Button>회원가입</Button>\r\n        </Link>\r\n      </ButtonWrapper>\r\n    </FormWrapper>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Link from 'next/link';\r\nimport {\r\n  Menu, Input, Row, Col,\r\n} from 'antd';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Router from 'next/router';\r\nimport UserProfile from '../UserProfile';\r\nimport LoginForm from '../LoginForm';\r\n\r\nconst Global = createGlobalStyle` // 밑에 스크롤바 제거\r\n  .ant-row {\r\n    margin-right: 0 !important;\r\n    margin-left: 0 !important;\r\n  }\r\n  .ant-col:first-child {\r\n    padding-left: 0 !important;\r\n  }\r\n  .ant-col:last-child {\r\n    padding-right:0 !important;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled(Input.Search)`\r\n  vertical-align: middle;\r\n`;\r\n\r\nfunction AppLayout({ children }) {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const { me } = useSelector((state) => state.user);\r\n\r\n  const onChangeSearchInput = useCallback((e) => {\r\n    setSearchInput(e.target.value);\r\n  }, []);\r\n\r\n  const onSearch = useCallback(() => {\r\n    if (!searchInput) return;\r\n    Router.push(`/hashtag/${searchInput}`);\r\n    setSearchInput('');\r\n  }, [searchInput]);\r\n\r\n  return (\r\n    <div>\r\n      <Global />\r\n      <Menu mode=\"horizontal\">\r\n        <Menu.Item>\r\n          <Link href=\"/\">노드버드</Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Link href=\"/profile\">프로필</Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <SearchInput value={searchInput} onChange={onChangeSearchInput} onSearch={onSearch} placeholder=\"해시태그 입력(#제외)\" enterButton />\r\n        </Menu.Item>\r\n      </Menu>\r\n      <Row gutter={8}>\r\n        <Col xs={24} md={6}>\r\n          {me ? <UserProfile /> : <LoginForm />}\r\n        </Col>\r\n        <Col xs={24} md={12}>\r\n          {children}\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <a\r\n            href=\"https://www.zerocho.com\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            Made by ZeroCho\r\n          </a>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nAppLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default AppLayout;\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport default (initialValue = null) => {\r\n  const [value, setValue] = useState(initialValue);\r\n  const handler = useCallback((e) => {\r\n    setValue(e.target.value);\r\n  }, []);\r\n  return [value, handler, setValue];\r\n};\r\n","import { Button, Card, List } from 'antd';\r\nimport { StopOutlined } from '@ant-design/icons';\r\nimport React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { REMOVE_FOLLOWER_REQUEST, UNFOLLOW_REQUEST } from '../reducers/user';\r\n\r\nfunction FollowList({ header, data, loadMore, loading }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onCancel = useCallback((nickname) => () => {\r\n    console.log('header', header);\r\n    if (header === '팔로잉') {\r\n      dispatch({\r\n        type: UNFOLLOW_REQUEST,\r\n        data: { nickname },\r\n      });\r\n    }\r\n    if (header === '팔로워') {\r\n      dispatch({\r\n        type: REMOVE_FOLLOWER_REQUEST,\r\n        data: { nickname },\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <List\r\n      style={{ marginBottom: 20 }}\r\n      grid={{ gutter: 4, xs: 2, md: 3 }}\r\n      size=\"small\"\r\n      header={<div>{header}</div>}\r\n      loadMore={((\r\n        <div style={{ textAlign: 'center', margin: '10px 0' }}>\r\n          <Button onClick={loadMore} loading={loading}>더 보기</Button>\r\n        </div>\r\n        )\r\n      )}\r\n      bordered\r\n      dataSource={data}\r\n      renderItem={(item) => (\r\n        <List.Item style={{ marginTop: 20 }}>\r\n          <Card actions={[<StopOutlined key=\"stop\" onClick={onCancel(item.nickname)} />]}>\r\n            <Card.Meta description={item.nickname} />\r\n          </Card>\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nFollowList.prototype = {\r\n  header: PropTypes.string.isRequired,\r\n  data: PropTypes.array.isRequired,\r\n  loadMore: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FollowList;\r\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { Form, Input } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { CHANGE_NICKNAME_REQUEST } from '../reducers/user';\r\n\r\nfunction NicnameEditForm() {\r\n  const dispatch = useDispatch();\r\n  const { changeNicknameDone } = useSelector((state) => state.user);\r\n\r\n  const [nickname, setNickname] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (changeNicknameDone) setNickname('');\r\n  }, [changeNicknameDone]);\r\n\r\n  const onReviseNickname = useCallback(() => {\r\n    dispatch({\r\n      type: CHANGE_NICKNAME_REQUEST,\r\n      data: nickname,\r\n    });\r\n  }, [nickname]);\r\n\r\n  const onChangeNickname = useCallback((e) => {\r\n    setNickname(e.target.value);\r\n  }, []);\r\n\r\n  const style = useMemo(() => ({\r\n    marginBottom: '20px',\r\n    border: '1px solid #d9d9d9',\r\n    padding: '20px',\r\n  }));\r\n\r\n  return (\r\n    <Form style={style}>\r\n      <Input.Search addonBefore=\"닉네임\" enterButton=\"수정\" onChange={onChangeNickname} value={nickname} onSearch={onReviseNickname} />\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default NicnameEditForm;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport Head from 'next/head';\r\nimport { useSelector } from 'react-redux';\r\nimport Router from 'next/router';\r\nimport useSWR from 'swr';\r\n\r\nimport { END } from 'redux-saga';\r\nimport axios from 'axios';\r\nimport AppLayout from '../components/Layout/AppLayout';\r\nimport FollowList from '../components/FollowList';\r\nimport NicnameEditForm from '../components/NicknameEditForm';\r\nimport { LOAD_MY_INFO_REQUEST } from '../reducers/user';\r\nimport wrapper from '../store/configureStore';\r\n\r\nconst fetcher = (url) => axios.get(url, { withCredentials: true }).then((result) => result.data);\r\n\r\nfunction Profile() {\r\n  const { me } = useSelector((state) => state.user);\r\n  const [followersLimit, setFollowersLimit] = useState(3);\r\n  const [followingsLimit, setFollowingsLimit] = useState(3);\r\n\r\n  const { data: followersData, error: followerError } = useSWR(`https://api.reacttwitter.shop/user/followers?limit=${followersLimit}`, fetcher);\r\n  const { data: followingsData, error: followingError } = useSWR(`https://api.reacttwitter.shop/user/followings?limit=${followingsLimit}`, fetcher);\r\n\r\n  useEffect(() => {\r\n    if (!(me && me.id)) {\r\n      Router.push('/');\r\n    }\r\n  }, [me && me.id]);\r\n\r\n  const loadMoreFollowings = useCallback(() => {\r\n    setFollowingsLimit((prev) => prev + 3);\r\n  }, []);\r\n\r\n  const loadMoreFollowers = useCallback(() => {\r\n    setFollowersLimit((prev) => prev + 3);\r\n  }, []);\r\n\r\n  if (!me) return <div>내정보 로딩중..</div>;\r\n\r\n  if (followerError || followingError) {\r\n    console.error(followerError || followingError);\r\n    return <div>팔로잉/팔로워 로딩 중 에러가 발생합니다.</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>내 프로필 | NodeBird</title>\r\n      </Head>\r\n      <AppLayout>\r\n        <NicnameEditForm />\r\n        <FollowList header=\"팔로잉\" data={followingsData} loadMore={loadMoreFollowings} loading={!followingsData && !followingError} />\r\n        <FollowList header=\"팔로워\" data={followersData} loadMore={loadMoreFollowers} loading={!followersData && !followerError} />\r\n      </AppLayout>\r\n    </>\r\n  );\r\n}\r\n\r\n// 프론트서버에서 실행되는 부분이 getServerSideProps다\r\n// 브라우저와 다른 공간이기때문에 context.req.headers.cookie = cookie;를 해도 브라우저에는 같은 쿠키가 없다.\r\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\r\n  const { cookie } = context.req.headers;\r\n  axios.defaults.headers.Cookie = '';\r\n  if (cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  context.store.dispatch({ // 로그인이 잠깐 풀려보이는 것을 방지\r\n    type: LOAD_MY_INFO_REQUEST,\r\n  });\r\n  context.store.dispatch(END);\r\n  await context.store.sagaTask.toPromise();\r\n});\r\n\r\nexport default Profile;\r\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/profile\",\n      function () {\n        return require(\"private-next-pages/profile.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/profile\"])\n      });\n    }\n  "],"names":["LogOutButton","styled","Button","withConfig","displayName","componentId","components_UserProfile","dispatch","useDispatch","_useSelector","useSelector","state","user","me","logOutLoading","onLogOut","useCallback","logoutRequestAction","jsx_runtime","jsxs","card","Z","actions","children","jsx","link_default","href","concat","id","Posts","length","Followings","Followers","Meta","avatar","prefetch","C","nickname","title","onClick","loading","ButtonWrapper","FormWrapper","Form","components_LoginForm","logInLoading","logInError","_useInput","useInput","_useInput2","slicedToArray","email","onChangeEmail","_useInput3","_useInput4","password","onChangePassword","didMount","useRef","useEffect","current","alert","onSubmitForm","loginRequestAction","onFinish","htmlFor","input","name","value","onChange","required","type","es_button","htmlType","Global","createGlobalStyle","SearchInput","Input","Layout_AppLayout","_ref","_useState","useState","searchInput","setSearchInput","onChangeSearchInput","e","target","onSearch","Router","menu","mode","Item","placeholder","enterButton","row","gutter","col","xs","md","rel","__webpack_exports__","initialValue","arguments","undefined","setValue","FollowList","header","data","loadMore","onCancel","console","log","UNFOLLOW_REQUEST","REMOVE_FOLLOWER_REQUEST","list","ZP","style","marginBottom","grid","size","textAlign","margin","bordered","dataSource","renderItem","item","marginTop","StopOutlined","description","prototype","PropTypes","isRequired","NicknameEditForm","changeNicknameDone","setNickname","onReviseNickname","CHANGE_NICKNAME_REQUEST","onChangeNickname","useMemo","border","padding","es_form","Search","addonBefore","fetcher","url","axios","withCredentials","then","result","profile","followersLimit","setFollowersLimit","_useState2","followingsLimit","setFollowingsLimit","_useSWR","useSWR","followersData","followerError","error","_useSWR2","followingsData","followingError","loadMoreFollowings","prev","loadMoreFollowers","Fragment","head_default","AppLayout","window","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}