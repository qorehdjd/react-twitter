(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{5616:function(e,n,r){"use strict";r.d(n,{Z:function(){return S}});var t=r(7294),i=r(1664),a=r.n(i),o=r(9673),s=r(8985),l=r(1230),c=r(5746),d=r(9521),u=r(9473),h=r(1163),f=r.n(h),p=r(1889),x=r(9659),m=r(4093),g=r(5997),j=r(5893),v=(0,d.ZP)(p.Z).withConfig({displayName:"UserProfile__LogOutButton",componentId:"sc-1oi6tgq-0"})(["margin-top:10px;margin-left:47px;"]),Z=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),r=n.me,i=n.logOutLoading,o=(0,t.useCallback)(function(){e((0,g.vR)())},[]);return(0,j.jsxs)(x.Z,{actions:[(0,j.jsxs)("div",{children:[(0,j.jsx)(a(),{href:"/user/".concat(r.id),children:"짹짹"}),(0,j.jsx)("br",{}),r.Posts.length]},"twit"),(0,j.jsxs)("div",{children:[(0,j.jsx)(a(),{href:"/profile",children:"팔로잉"}),(0,j.jsx)("br",{}),r.Followings.length]},"followings"),(0,j.jsxs)("div",{children:[(0,j.jsx)(a(),{href:"/profile",children:"팔로워"}),(0,j.jsx)("br",{}),r.Followers.length]},"followers")],children:[(0,j.jsx)(x.Z.Meta,{avatar:(0,j.jsx)(a(),{href:"/user/".concat(r.id),prefetch:!1,children:(0,j.jsx)(m.C,{children:r.nickname[0]})}),title:r.nickname}),(0,j.jsx)(v,{onClick:o,loading:i,children:"로그아웃"})]})},w=r(2640),k=r(4538),C=r(4324),_=d.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-1epdt36-0"})(["margin-top:10px;"]),b=(0,d.ZP)(k.Z).withConfig({displayName:"LoginForm__FormWrapper",componentId:"sc-1epdt36-1"})(["padding:10px;"]),y=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),r=n.logInLoading,i=n.logInError,s=(0,C.Z)(""),l=(0,w.Z)(s,2),c=l[0],d=l[1],h=(0,C.Z)(""),f=(0,w.Z)(h,2),x=f[0],m=f[1],v=(0,t.useRef)(!1);(0,t.useEffect)(function(){v.current?i&&alert(i):v.current=!0},[i]);var Z=(0,t.useCallback)(function(){e((0,g.tP)({email:c,password:x}))},[c,x]);return(0,j.jsxs)(b,{onFinish:Z,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"user-email",children:"이메일"}),(0,j.jsx)(o.Z,{name:"user-email",value:c,onChange:d,required:!0,type:"email"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"user-password",children:"비밀번호"}),(0,j.jsx)(o.Z,{name:"user-password",type:"password",value:x,onChange:m,required:!0})]}),(0,j.jsxs)(_,{children:[(0,j.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:r,children:"로그인"}),(0,j.jsx)(a(),{href:"/signup",children:(0,j.jsx)(p.Z,{children:"회원가입"})})]})]})},I=(0,d.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),P=(0,d.ZP)(o.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-wan0f0-0"})(["vertical-align:middle;"]),S=function(e){var n=e.children,r=(0,t.useState)(""),i=r[0],o=r[1],d=(0,u.v9)(function(e){return e.user}).me,h=(0,t.useCallback)(function(e){o(e.target.value)},[]),p=(0,t.useCallback)(function(){i&&(f().push("/hashtag/".concat(i)),o(""))},[i]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(I,{}),(0,j.jsxs)(s.Z,{mode:"horizontal",children:[(0,j.jsx)(s.Z.Item,{children:(0,j.jsx)(a(),{href:"/",children:"노드버드"})}),(0,j.jsx)(s.Z.Item,{children:(0,j.jsx)(a(),{href:"/profile",children:"프로필"})}),(0,j.jsx)(s.Z.Item,{children:(0,j.jsx)(P,{value:i,onChange:h,onSearch:p,placeholder:"해시태그 입력(#제외)",enterButton:!0})})]}),(0,j.jsxs)(l.Z,{gutter:8,children:[(0,j.jsx)(c.Z,{xs:24,md:6,children:d?(0,j.jsx)(Z,{}):(0,j.jsx)(y,{})}),(0,j.jsx)(c.Z,{xs:24,md:12,children:n}),(0,j.jsx)(c.Z,{xs:24,md:6,children:(0,j.jsx)("a",{href:"https://www.zerocho.com",target:"_blank",rel:"noreferrer noopener",children:"Made by ZeroCho"})})]})]})}},4324:function(e,n,r){"use strict";var t=r(7294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,t.useState)(e),r=n[0],i=n[1];return[r,(0,t.useCallback)(function(e){i(e.target.value)},[]),i]}},957:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return b},default:function(){return y}});var t=r(7294),i=r(9008),a=r.n(i),o=r(9473),s=r(1163),l=r.n(s),c=r(9734),d=r(8433),u=r(5616),h=r(2506),f=r(1889),p=r(9659),x=r(7784),m=r(5697),g=r.n(m),j=r(5997),v=r(5893);function Z(e){var n=e.header,r=e.data,i=e.loadMore,a=e.loading,s=(0,o.I0)(),l=(0,t.useCallback)(function(e){return function(){console.log("header",n),"팔로잉"===n&&s({type:j.Bk,data:{nickname:e}}),"팔로워"===n&&s({type:j.IB,data:{nickname:e}})}},[]);return(0,v.jsx)(h.ZP,{style:{marginBottom:20},grid:{gutter:4,xs:2,md:3},size:"small",header:(0,v.jsx)("div",{children:n}),loadMore:(0,v.jsx)("div",{style:{textAlign:"center",margin:"10px 0"},children:(0,v.jsx)(f.Z,{onClick:i,loading:a,children:"더 보기"})}),bordered:!0,dataSource:r,renderItem:function(e){return(0,v.jsx)(h.ZP.Item,{style:{marginTop:20},children:(0,v.jsx)(p.Z,{actions:[(0,v.jsx)(x.Z,{onClick:l(e.nickname)},"stop")],children:(0,v.jsx)(p.Z.Meta,{description:e.nickname})})})}})}Z.prototype={header:g().string.isRequired,data:g().array.isRequired,loadMore:g().func.isRequired,loading:g().bool.isRequired};var w=r(4538),k=r(9673),C=function(){var e=(0,o.I0)(),n=(0,o.v9)(function(e){return e.user}).changeNicknameDone,r=(0,t.useState)(""),i=r[0],a=r[1];(0,t.useEffect)(function(){n&&a("")},[n]);var s=(0,t.useCallback)(function(){e({type:j.o,data:i})},[i]),l=(0,t.useCallback)(function(e){a(e.target.value)},[]),c=(0,t.useMemo)(function(){return{marginBottom:"20px",border:"1px solid #d9d9d9",padding:"20px"}});return(0,v.jsx)(w.Z,{style:c,children:(0,v.jsx)(k.Z.Search,{addonBefore:"닉네임",enterButton:"수정",onChange:l,value:i,onSearch:s})})},_=function(e){return d.Z.get(e,{withCredentials:!0}).then(function(e){return e.data})},b=!0,y=function(){var e=(0,o.v9)(function(e){return e.user}).me,n=(0,t.useState)(3),r=n[0],i=n[1],s=(0,t.useState)(3),d=s[0],h=s[1],f=(0,c.ZP)("https://api.reacttwitter.shop/user/followers?limit=".concat(r),_),p=f.data,x=f.error,m=(0,c.ZP)("https://api.reacttwitter.shop/user/followings?limit=".concat(d),_),g=m.data,j=m.error;(0,t.useEffect)(function(){e&&e.id||l().push("/")},[e&&e.id]);var w=(0,t.useCallback)(function(){h(function(e){return e+3})},[]),k=(0,t.useCallback)(function(){i(function(e){return e+3})},[]);return e?x||j?(console.error(x||j),(0,v.jsx)("div",{children:"팔로잉/팔로워 로딩 중 에러가 발생합니다."})):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a(),{children:(0,v.jsx)("title",{children:"내 프로필 | NodeBird"})}),(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(C,{}),(0,v.jsx)(Z,{header:"팔로잉",data:g,loadMore:w,loading:!g&&!j}),(0,v.jsx)(Z,{header:"팔로워",data:p,loadMore:k,loading:!p&&!x})]})]}):(0,v.jsx)("div",{children:"내정보 로딩중.."})}},9344:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(957)}])}},function(e){e.O(0,[661,337,935,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);