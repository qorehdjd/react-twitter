{"version":3,"file":"static/chunks/pages/post/[id]-41e075efa83495f8.js","mappings":"qOA4DAA,CAAAA,EAAA,QAhDA,UAAgB,CACd,IAAAC,EAAsCC,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAA1CC,EAARJ,EAAQI,UAAR,CAAoBC,EAApBL,EAAoBK,aAApB,CAGQC,EAAOC,CADAC,EAAAA,EAAAA,SAAAA,IACOC,KAAtB,CAAQH,EAAR,OAQA,CANAI,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,UAAM,CACVL,GACFM,MAAMN,EAET,EAAE,CAACA,EAJK,EAMLA,GACK,IAAP,CAIA,GAAAO,EAAAC,IAAA,EAACC,EAAAC,CAAD,EAAAC,SAAA,CACE,GAAAJ,EAAAC,IAAA,EAACI,IAAD,CAAAD,SAAA,CACE,GAAAJ,EAAAC,IAAA,WAAAG,SAAA,CAAQZ,EAAWc,IAAX,CAAgBC,QAAxB,WACA,GAAAP,EAAAQ,GAAA,UAAMC,KAAK,cAAcC,QAASlB,EAAWkB,OAAAA,GAC7C,GAAAV,EAAAQ,GAAA,UAAMG,SAAS,WAAWD,QAAO,GAAAE,MAAA,CAAKpB,EAAWc,IAAX,CAAgBC,QAArB,UAAjC,GACA,GAAAP,EAAAQ,GAAA,UAAMG,SAAS,iBAAiBD,QAASlB,EAAWkB,OAAAA,GACpD,GAAAV,EAAAQ,GAAA,UAAMG,SAAS,WAAWD,QAASlB,EAAWqB,MAAX,CAAkB,EAAlB,CAAuBrB,EAAWqB,MAAX,CAAkB,EAAlB,CAAqBC,GAA5C,CAAkD,qCACrF,GAAAd,EAAAQ,GAAA,UAAMG,SAAS,SAASD,QAAO,6BAAAE,MAAA,CAA+BlB,EAA9D,GANF,GAQA,GAAAM,EAAAQ,GAAA,EAACO,EAAAZ,CAAD,EAAUZ,KAAMC,CAAhB,GATF,EAHD,wBCzBH,CAAAwB,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,aACA,WACA,OAAeC,EAAQ,KACvB,EACA","sources":["webpack://_N_E/./pages/post/[id].js","webpack://_N_E/?67ea","webpack://_N_E/<anon>"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport axios from 'axios';\r\nimport { END } from 'redux-saga';\r\nimport { useSelector } from 'react-redux';\r\nimport Head from 'next/head';\r\nimport wrapper from '../../store/configureStore';\r\nimport { LOAD_MY_INFO_REQUEST } from '../../reducers/user';\r\nimport { LOAD_POST_REQUEST } from '../../reducers/post';\r\nimport AppLayout from '../../components/Layout/AppLayout';\r\nimport PostCard from '../../components/PostCard';\r\n\r\nfunction Post() {\r\n  const { singlePost, loadPostError } = useSelector((state) => state.post);\r\n\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n\r\n  useEffect(() => {\r\n    if (loadPostError) {\r\n      alert(loadPostError);\r\n    }\r\n  }, [loadPostError]);\r\n\r\n  if (loadPostError) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Head>\r\n        <title>{singlePost.User.nickname}님의 글</title>\r\n        <meta name=\"description\" content={singlePost.content} />\r\n        <meta property=\"og:title\" content={`${singlePost.User.nickname}님의 게시글`} />\r\n        <meta property=\"og:description\" content={singlePost.content} />\r\n        <meta property=\"og:image\" content={singlePost.Images[0] ? singlePost.Images[0].src : 'https://nodebird.com/favicon.ico'} />\r\n        <meta property=\"og:url\" content={`https://nodebird.com/post/${id}`} />\r\n      </Head>\r\n      <PostCard post={singlePost} />\r\n    </AppLayout>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\r\n  const { cookie } = context.req.headers;\r\n  axios.defaults.headers.Cookie = '';\r\n  if (cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  context.store.dispatch({\r\n    type: LOAD_MY_INFO_REQUEST,\r\n  });\r\n  context.store.dispatch({\r\n    type: LOAD_POST_REQUEST,\r\n    data: { postId: context.params.id },\r\n  });\r\n  context.store.dispatch(END);\r\n  await context.store.sagaTask.toPromise();\r\n});\r\n\r\nexport default Post;\r\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/post/[id]\",\n      function () {\n        return require(\"private-next-pages/post/[id].js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/post/[id]\"])\n      });\n    }\n  "],"names":["__webpack_exports__","_useSelector","useSelector","state","post","singlePost","loadPostError","id","router","useRouter","query","useEffect","alert","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__","jsxs","_components_Layout_AppLayout__WEBPACK_IMPORTED_MODULE_4__","Z","children","next_head__WEBPACK_IMPORTED_MODULE_3___default","User","nickname","jsx","name","content","property","concat","Images","src","_components_PostCard__WEBPACK_IMPORTED_MODULE_5__","window","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}