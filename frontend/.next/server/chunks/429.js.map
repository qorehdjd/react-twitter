{"version":3,"file":"429.js","mappings":"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","sources":["webpack://react-nodebird/./components/Layout/AppLayout.js","webpack://react-nodebird/./components/LoginForm.js","webpack://react-nodebird/./components/UserProfile.js","webpack://react-nodebird/./hooks/useInput.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Link from 'next/link';\r\nimport {\r\n  Menu, Input, Row, Col,\r\n} from 'antd';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Router from 'next/router';\r\nimport UserProfile from '../UserProfile';\r\nimport LoginForm from '../LoginForm';\r\n\r\nconst Global = createGlobalStyle` // 밑에 스크롤바 제거\r\n  .ant-row {\r\n    margin-right: 0 !important;\r\n    margin-left: 0 !important;\r\n  }\r\n  .ant-col:first-child {\r\n    padding-left: 0 !important;\r\n  }\r\n  .ant-col:last-child {\r\n    padding-right:0 !important;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled(Input.Search)`\r\n  vertical-align: middle;\r\n`;\r\n\r\nfunction AppLayout({ children }) {\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const { me } = useSelector((state) => state.user);\r\n\r\n  const onChangeSearchInput = useCallback((e) => {\r\n    setSearchInput(e.target.value);\r\n  }, []);\r\n\r\n  const onSearch = useCallback(() => {\r\n    if (!searchInput) return;\r\n    Router.push(`/hashtag/${searchInput}`);\r\n    setSearchInput('');\r\n  }, [searchInput]);\r\n\r\n  return (\r\n    <div>\r\n      <Global />\r\n      <Menu mode=\"horizontal\">\r\n        <Menu.Item>\r\n          <Link href=\"/\">노드버드</Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Link href=\"/profile\">프로필</Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <SearchInput value={searchInput} onChange={onChangeSearchInput} onSearch={onSearch} placeholder=\"해시태그 입력(#제외)\" enterButton />\r\n        </Menu.Item>\r\n      </Menu>\r\n      <Row gutter={8}>\r\n        <Col xs={24} md={6}>\r\n          {me ? <UserProfile /> : <LoginForm />}\r\n        </Col>\r\n        <Col xs={24} md={12}>\r\n          {children}\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <a\r\n            href=\"https://www.zerocho.com\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            Made by ZeroCho\r\n          </a>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nAppLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default AppLayout;\r\n","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport { Button, Form, Input } from 'antd';\r\nimport Link from 'next/link';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport useInput from '../hooks/useInput';\r\n\r\nimport { loginRequestAction } from '../reducers/user';\r\n\r\nconst ButtonWrapper = styled.div`\r\n  // style={{marginTop:10}}(인라인스타일)을 할경우 리액트가 객체를 보고 변화가 없지만 리렌더링을 시키므로 문제발생\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst FormWrapper = styled(Form)`\r\n  padding: 10px;\r\n`;\r\n\r\nfunction LoginForm() {\r\n  const dispatch = useDispatch(); // store.dispatch()랑 같다. 리덕스를 쓰면 useState를 쓸 일이 거의 없어진다.\r\n  const { logInLoading, logInError } = useSelector((state) => state.user);\r\n  const [email, onChangeEmail] = useInput('');\r\n  const [password, onChangePassword] = useInput('');\r\n  const didMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (didMount.current) {\r\n      if (logInError) {\r\n        alert(logInError);\r\n      }\r\n    } else {\r\n      didMount.current = true;\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onSubmitForm = useCallback(() => {\r\n    dispatch(loginRequestAction({ email, password }));\r\n  }, [email, password]);\r\n\r\n  // const style = useMemo(() => ({ marginTop: 10 }), []); // 값을 캐싱한다\r\n\r\n  return (\r\n    <FormWrapper onFinish={onSubmitForm}>\r\n      <div>\r\n        <label htmlFor=\"user-email\">이메일</label>\r\n        <Input\r\n          name=\"user-email\"\r\n          value={email}\r\n          onChange={onChangeEmail}\r\n          required\r\n          type=\"email\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"user-password\">비밀번호</label>\r\n        <Input\r\n          name=\"user-password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          required\r\n        />\r\n      </div>\r\n      <ButtonWrapper>\r\n        <Button type=\"primary\" htmlType=\"submit\" loading={logInLoading}>\r\n          로그인\r\n        </Button>\r\n        <Link href=\"/signup\">\r\n          <Button>회원가입</Button>\r\n        </Link>\r\n      </ButtonWrapper>\r\n    </FormWrapper>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { useCallback } from 'react';\r\nimport { Card, Avatar, Button } from 'antd';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport { logoutRequestAction } from '../reducers/user';\r\n\r\nconst LogOutButton = styled(Button)`\r\n  margin-top: 10px;\r\n  margin-left: 47px;\r\n`;\r\n\r\nfunction UserProfile() {\r\n  const dispatch = useDispatch();\r\n  const { me, logOutLoading } = useSelector((state) => state.user);\r\n\r\n  const onLogOut = useCallback(() => {\r\n    dispatch(logoutRequestAction());\r\n  }, []);\r\n\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <div key=\"twit\">\r\n          <Link href={`/user/${me.id}`}>짹짹</Link>\r\n          <br />\r\n          {me.Posts.length}\r\n        </div>,\r\n        <div key=\"followings\">\r\n          <Link href=\"/profile\">팔로잉</Link>\r\n          <br />\r\n          {me.Followings.length}\r\n        </div>,\r\n        <div key=\"followers\">\r\n          <Link href=\"/profile\">팔로워</Link>\r\n          <br />\r\n          {me.Followers.length}\r\n        </div>,\r\n      ]}\r\n    >\r\n      <Card.Meta\r\n        avatar={<Link href={`/user/${me.id}`} prefetch={false}><Avatar>{me.nickname[0]}</Avatar></Link>}\r\n        title={me.nickname}\r\n      />\r\n      <LogOutButton onClick={onLogOut} loading={logOutLoading}>\r\n        로그아웃\r\n      </LogOutButton>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport default (initialValue = null) => {\r\n  const [value, setValue] = useState(initialValue);\r\n  const handler = useCallback((e) => {\r\n    setValue(e.target.value);\r\n  }, []);\r\n  return [value, handler, setValue];\r\n};\r\n"],"names":["React","useCallback","useState","Link","Menu","Input","Row","Col","styled","createGlobalStyle","useSelector","Router","UserProfile","LoginForm","Global","SearchInput","Search","AppLayout","children","searchInput","setSearchInput","me","state","user","onChangeSearchInput","e","target","value","onSearch","push","useEffect","useRef","Button","Form","useDispatch","useInput","loginRequestAction","ButtonWrapper","div","FormWrapper","dispatch","logInLoading","logInError","email","onChangeEmail","password","onChangePassword","didMount","current","alert","onSubmitForm","Card","Avatar","logoutRequestAction","LogOutButton","logOutLoading","onLogOut","id","Posts","length","Followings","Followers","nickname","initialValue","setValue","handler"],"sourceRoot":""}